<link type="text/css" rel="stylesheet" href="css/appointmentStyle.css"/>

<ion-view title="Appointments" class = "appointment">
  <ion-nav-buttons side="right">
    <button class="button button-clear button-icon ion-ios-plus-empty" ng-click="showModal()"></button>
  </ion-nav-buttons>

  <ion-content>
    <ion-refresher pulling-text="Pull to refresh..." on-refresh="refresh()"></ion-refresher>


    <li class="item text-center" ng-hide="appointments.length == 0">
      We couldn't find any appointments. Try pulling down to refresh.
    </li>

    <div ng-repeat="date in appointments" ng-show="appointments.length > 0">
      <div>
        <hr class="responsive-col"></hr>
        <h4 class="text-center">{{setLocaleDate(date.$id) | date:'MMMM dd, yyyy'}}</h4>
      </div>

      <ion-list class = "appointments-list">
        <ion-item class="view-appointments" ng-repeat="(appt_key, appointment) in date | orderBy:a.timestamp: 'true'" ui-sref="tabsController.editAppointment({date: date.$id, appointment_id: appt_key})">

            <div class="item item-divider">{{appointment.title}}</div>
            <ion-item class="item-icon-left item-text-wrap">
              <i class="icon ion-ios-clock-outline"></i>
              <p class="item-text-wrap">{{appointment.time | date:'medium'}}</p>
            </ion-item>

            <ion-item class="item-icon-left item-text-wrap">
              <i class="icon ion-ios-location-outline"></i>
              <p class="item-text-wrap"> {{appointment.location}}</p>
            </ion-item>

            <ion-item class="item-icon-left item-text-wrap">
              <i class="icon ion-clipboard"></i>
              <p class="item-text-wrap">{{appointment.note}}</p>
            </ion-item>
        </ion-item>
      </ion-list>
    </div>

  </ion-content>
</ion-view>


<!-- <ion-view title="Appointments" class = "appointment">
    <ion-nav-buttons side="right">
        <button class="button button-clear button-icon icon ion-ios-plus-empty button-positive" ui-sref="tabsController.addAppointment"></button>
    </ion-nav-buttons>

    <ion-content overflow-scroll="true" padding="true" class="has-header">
        <div ng-controller="appointmentsCtrl">
		    <div class = "center">
		  		<a class="button, absleft"><</a>
	      		<span ng-bind="curDate | date:'MM/yyyy' "></span>
	      		<a class="button, absright">></a>
		   	</div>
		    <table class = "center">
		    	<thead>
			        <tr>
			          <th>S</th>
			          <th>M</th>
			          <th>T</th>
			          <th>W</th>
			          <th>T</th>
			          <th>F</th>
			          <th>S</th>
			        </tr>
		        </thead>
		        <tbody>
			        <tr ng-repeat="week in weeks">
		            <td ng-repeat="day in week track by $index" ng-class="{ 'EventDay': hasAppointment(day), 'CurrentDay': day == {{today}} }", ng-click = "transitionToAppointment(day)">
		              {{day}}
		            </td>
			        </tr>
			    </tbody>
		    </table>
		</div>
    </ion-content>
</ion-view> -->
