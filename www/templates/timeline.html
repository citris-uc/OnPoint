<link type="text/css" rel="stylesheet" href="css/timelineStyle.css"/>

<ion-view title="Upcoming" class = "timeline">
  <!-- <ion-nav-buttons side="primary">
    <button class="button button-icon icon ion-ios-gear-outline button-positive button-clear" ui-sref="tabsController.settings"></button>
  </ion-nav-buttons> -->

  <!-- <div class="bar bar-subheader item-input-inset">
    <label class="item-input-wrapper">
      <input type="text" placeholder="How are you feeling?" ng-model="userInput.feeling" >
    </label>
    <button class="button button-small button-positive button-clear buttonText" ng-click="saveFeeling()">Save</button>
  </div> -->
  <!-- <div class="bar bar-subheader item-input-inset segmented-control">
    <div class="button-bar bar-light responsive-col">
      <a class="button button-small" ng-click="transitionToPageIndex(0)" ng-class="{'button-positive': timeline.pageIndex === 0}">Today</a>
      <a class="button button-small" ng-click="transitionToPageIndex(1)" ng-class="{'button-positive': timeline.pageIndex === 1}">History</a>
    </div>
  </div> -->



  <!-- Stuff after here will scroll -->
  <ion-content>
    <ion-refresher pulling-text="Pull to refresh" on-refresh="loadCards()" pulling-icon="ion-ios-refresh-empty"></ion-refresher>

    <div class="list text-center" ng-show="today.cards.length === 0">
      <div class="item item-body">
        No cards found. Try pulling down to refresh.
      </div>
    </div>

    <div class="list">
      <div class="card" ng-repeat="card in today.cards" on-swipe-right="swipeCard(card)" on-swipe-left="swipeCard(card)">
        <a class="item item-avatar item-icon-right" ng-click="openPage(card, card.object_type)" ng-if="card.object_type == 'medication_schedule'">
          <img src="img/cards/drugs_yellow.png">
          <h2 style="font-weight: bold; font-size: 20px;">
            {{card.schedule.time | formatTime}}
            <span style="font-size: 14px; color: #888; font-weight: normal;">today</span>
          </h2>
          <p>
            <ng-pluralize count="card.medications_length" when="{'0': 'No medications to take', 'one': '1 medication to take', 'other': '{} medications to take'}">
            </ng-pluralize>
          </p>
          <i class="icon ion-ios-arrow-right" ng-if="card.status == 'upcoming'"></i>
        </a>

        <div class="item item-avatar" ng-if="card.object_type == 'appointment'">
          <img src="img/cards/appointment_green.png"></img>
          <h2 style="font-weight: bold; font-size: 20px;">
            {{card.appointment.time | formatTime}}
            <span style="font-size: 14px; color: #888; font-weight: normal;">{{card.appointment.date | date:'EEE MMM dd, yyyy'}}</span>
          </h2>
          <p>
            {{card.appointment.title}} Â· {{card.appointment.note}}
          </p>
          <!-- <i class="icon ion-ios-arrow-right"></i> -->
        </div>



        <!-- <div class="card-section history padding" ng-if="card.appointment && isTomorrow(card.appointment.date)">
          <hr class="responsive-col"></hr>
          <h4 class="text-center">End of today</h4>
        </div> -->


      </div>


    </div>

      <!-- <div class="list card">
        <div class="item item-text-wrap">
          <div class="row">
            <div class="col-50">
              <h3 style="font-size:20px; font-weight:bold;">{{card.schedule.time}}</h3>
              <p>Today</p>
            </div>

            <div class="col-50">
              <h3 style="font-size:20px; font-weight:bold;">{{card.schedule.medications_length}}</h3>
              <p>medications to take</p>
            </div>
          </div>
        </div>

      </div> -->



    </div>


  </ion-content>
</ion-view>
